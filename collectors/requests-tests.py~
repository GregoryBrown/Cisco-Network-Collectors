from requests import request

if __name__ =='__main__':
    main()

def main():
    payload = '''{ "index" : {} }\n{"keys": [{"interface-name": "tunnel-te2112"}], "content": [{"interface-handle": "tunnel-te2112", "interface-type": "IFT_TUNNEL_TE", "hardware-type-string": "Tunnel-TE", "state": "im-state-down"}]}\n{ "index" : {} }\n{"keys": [{"interface-name": "tunnel-te2112"}], "content": [{"interface-handle": "tunnel-te2112", "interface-type": "IFT_TUNNEL_TE", "hardware-type-string": "Tunnel-TE", "state": "im-state-down"}]}\n'''
    index = 'cisco-ios-xr-pfi-im-cmd-oper:interfaces-interface-xr-interface'
    index_url = f"http://web-ott-tsdb-server-1:9200/{index}/nodes/_bulk"
    headers = {'Content-Type': "application/x-ndjson"}
    reply = request("POST", index_url, json=payload)
    print(replay.json())
